!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="ae2adce2-d6a0-42c5-95b3-2f7bdfba8f4d",e._sentryDebugIdIdentifier="sentry-dbid-ae2adce2-d6a0-42c5-95b3-2f7bdfba8f4d")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4260,4598,6841],{35443:(e,t,r)=>{"use strict";r.d(t,{BT:()=>i,Wu:()=>c,ZB:()=>n,Zp:()=>d,aR:()=>o,wL:()=>u});var s=r(80263),a=r(53239),l=r(82457);let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-surface-100 text-card-foreground shadow-sm",r),...a})});d.displayName="Card";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 py-4 px-6 border-b",r),...a})});o.displayName="CardHeader";let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,l.cn)("text-xs font-mono uppercase",r),...a})});n.displayName="CardTitle";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-foreground-muted",r),...a})});i.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("py-4 px-6 border-b last:border-none",r),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)(" flex items-center py-4 px-6",r),...a})});u.displayName="CardFooter"},46194:(e,t,r)=>{"use strict";r.d(t,{L:()=>d});var s=r(80263),a=r(35443),l=r(72470);let d=e=>(0,s.jsx)(a.Zp,{className:"grow bg-surface-100 p-3 transition-colors hover:bg-surface-200 border border-light hover:border-default cursor-pointer",onClick:e.onClick,"data-sentry-element":"Card","data-sentry-component":"ActionCard","data-sentry-source-file":"ActionCard.tsx",children:(0,s.jsxs)("div",{className:"relative flex items-start gap-3",children:[e.isBeta&&(0,s.jsx)(l.E,{className:"absolute -right-5 -top-5 bg-surface-300 bg-opacity-100 text-xs text-foreground",children:"Coming soon"}),(0,s.jsx)("div",{className:"rounded-full ".concat(e.bgColor," w-8 h-8 flex items-center justify-center flex-shrink-0"),children:e.icon}),(0,s.jsxs)("div",{className:"flex flex-col gap-0",children:[(0,s.jsx)("h3",{className:"text-sm text-foreground mb-0",children:e.title}),(0,s.jsx)("p",{className:"text-xs text-foreground-light",children:e.description})]})]})})},46836:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/sql/templates",function(){return r(58166)}])},58166:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>S});var s=r(80263),a=r(74176),l=r(87355),d=r(53239),o=r(60045),n=r(53667),i=r.n(n),c=r(73969),u=r(25481),f=r(16390),p=r(9895),m=r(46194),x=r(50689),g=r(19070),b=r(45628),h=r(35416),y=r(27528),j=r(72147),N=r(23601),v=r(82457),w=r(41667);let _=()=>{let e=(0,l.useRouter)(),{ref:t}=(0,u.g)(),r=(0,b.a)(),{profile:a}=(0,y.xc)(),{project:d}=(0,p.Om)(),[n]=i()(f.R,{type:"template"}),_=(0,j.aP)(),C=(0,g.SE)(o.aG.CREATE,"user_content",{resource:{type:"sql",owner_id:null==a?void 0:a.id},subject:{id:null==a?void 0:a.id}}),{mutate:k}=(0,x.h)(),R=async(r,s)=>{if(!t)return console.error("Project ref is required");if(!d)return console.error("Project is required");if(!a)return console.error("Profile is required");if(!C)return(0,c.oR)("Your queries will not be saved as you do not have sufficient permissions");try{let l=(0,w.fW)({id:(0,h.gZ)(),name:s,sql:r,owner_id:null==a?void 0:a.id,project_id:null==d?void 0:d.id});_.addSnippet({projectRef:t,snippet:l}),_.addNeedsSaving(l.id),e.push("/project/".concat(t,"/sql/").concat(l.id))}catch(e){c.oR.error("Failed to create new query: ".concat(e.message))}};return(0,s.jsx)("div",{className:"block h-full space-y-8 overflow-y-auto p-6 px-10 bg-dash-sidebar dark:bg-surface-100","data-sentry-component":"SQLTemplates","data-sentry-source-file":"SQLTemplates.tsx",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h1",{className:"text-foreground mb-1 text-xl",children:"Scripts"}),(0,s.jsx)("p",{className:"text-foreground-light text-sm",children:"Quick scripts to run on your database."}),(0,s.jsxs)("p",{className:"text-foreground-light text-sm",children:["Click on any script to fill the query box, modify the script, then click",(0,s.jsx)("span",{className:"text-code",children:"Run"}),"."]})]}),(0,s.jsx)("div",{className:"grid gap-4 sm:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 ",children:n.map((e,a)=>(0,s.jsx)(m.L,{title:e.title,description:e.description,bgColor:"bg-alternative border",icon:(0,s.jsx)(N.ty,{className:(0,v.cn)("fill-foreground","w-4 h-4"),strokeWidth:1.5}),onClick:()=>{var s;R(e.sql,e.title),k({action:"sql_editor_template_clicked",properties:{templateName:e.title},groups:{project:null!=t?t:"Unknown",organization:null!=(s=null==r?void 0:r.slug)?s:"Unknown"}})}},"action-card-".concat(a)))})]})})};var C=r(4649),k=r(18075),R=r(26840),q=r(59152),E=r(53674);let T=()=>{let e=(0,l.useRouter)(),{ref:t}=(0,a.useParams)(),r=(0,E.zv)();return(0,d.useEffect)(()=>{if(!e.isReady)return;let t=(0,E.lW)("sql",{id:"templates"});r.addTab({id:t,type:"sql",label:"Templates",metadata:{sqlId:"templates",name:"templates"}})},[e.isReady,t]),(0,s.jsx)(_,{"data-sentry-element":"SQLTemplates","data-sentry-component":"SqlTemplates","data-sentry-source-file":"templates.tsx"})};T.getLayout=e=>(0,s.jsx)(C.A,{children:(0,s.jsx)(k.$,{productMenu:(0,s.jsx)(q.Z,{}),product:"SQL Editor",children:(0,s.jsx)(R.A,{children:e})})});let S=T}},e=>{var t=t=>e(e.s=t);e.O(0,[89,8345,2491,3730,5982,6110,1185,5599,2041,1018,2409,4297,236,4515,1674,4942,2981,9480,4711,6137,4560,7795,3895,4109,2667,9377,6119,8784,9846,2156,5500,4649,7104,3133,2865,2303,6593,636,8792],()=>t(46836)),_N_E=e.O()}]);