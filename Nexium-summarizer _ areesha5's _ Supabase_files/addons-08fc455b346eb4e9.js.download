!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="e5181ca5-904d-4032-8d18-b9fe07337c1b",e._sentryDebugIdIdentifier="sentry-dbid-e5181ca5-904d-4032-8d18-b9fe07337c1b")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3475,4598,6841],{13030:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(80263),n=s(85462);let r=e=>{let{projectUpdateDisabled:t,projectNotActive:s=!1,children:r,tooltip:i}=e;return(0,a.jsxs)(n.m_,{"data-sentry-element":"Tooltip","data-sentry-component":"ProjectUpdateDisabledTooltip","data-sentry-source-file":"ProjectUpdateDisabledTooltip.tsx",children:[(0,a.jsx)(n.k$,{asChild:!0,"data-sentry-element":"TooltipTrigger","data-sentry-source-file":"ProjectUpdateDisabledTooltip.tsx",children:r}),(t||s)&&(0,a.jsx)(n.ZI,{side:"bottom",className:"w-72 text-center",children:t?i||"Subscription changes are currently disabled. Our engineers are working on a fix.":s?"Unable to update subscription as project is currently not active":""})]})}},17835:(e,t,s)=>{"use strict";s.d(t,{A:()=>x});var a=s(80263),n=s(87355),r=s(53239),i=s(25481),o=s(45205),l=s(11789),d=s(45628),c=s(97008),u=s(92226),p=s(32211),m=s(72865),h=s(42125);let x=(0,u.r)(e=>{let{title:t,children:s}=e,u=(0,n.useRouter)(),{ref:x}=(0,i.g)(),f=(0,c.KT)(),v=(0,d.a)();(0,r.useEffect)(()=>{p.pe||u.push("/project/default")},[u]);let j=u.pathname.includes("billing")?u.pathname.split("/")[5]:u.pathname.split("/")[4],{projectAuthAll:g,projectEdgeFunctionAll:y,projectStorageAll:b,billingInvoices:N}=(0,l.x)(["project_auth:all","project_edge_function:all","project_storage:all","billing:invoices"]),w=(0,h.M)(x,f,v,{auth:g,edgeFunctions:y,storage:b,invoices:N});return(0,a.jsx)(m.A,{isBlocking:!1,title:t||"Settings",product:"Settings",productMenu:(0,a.jsx)(o.l,{page:j,menu:w}),"data-sentry-element":"ProjectLayout","data-sentry-component":"SettingsLayout","data-sentry-source-file":"SettingsLayout.tsx",children:s})})},23777:(e,t,s)=>{"use strict";s.d(t,{F:()=>d});var a=s(32144),n=s(80251),r=s(73969),i=s(48678),o=s(23319);async function l(e){let{projectRef:t,variant:s,type:a}=e;if(!t)throw Error("projectRef is required");if(!s)throw Error("variant is required");if(!a)throw Error("type is required");let{data:n,error:r}=await (0,i.bE)("/platform/projects/{ref}/billing/addons",{params:{path:{ref:t}},body:{addon_type:a,addon_variant:s}});return r&&(0,i.H4)(r),n}let d=function(){let{onSuccess:e,onError:t,...s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=(0,a.jE)();return(0,n.n)(e=>l(e),{async onSuccess(t,s,a){let{projectRef:n}=s;await i.invalidateQueries(o.s.addons(n)),await (null==e?void 0:e(t,s,a))},async onError(e,s,a){void 0===t?r.oR.error("Failed to update addon: ".concat(e.message)):t(e,s,a)},...s})}},24717:(e,t,s)=>{"use strict";s.d(t,{BS:()=>o,Dm:()=>c,HJ:()=>g,Rf:()=>v,Uw:()=>d,Vw:()=>N,Xr:()=>b,aw:()=>x,bV:()=>i,cJ:()=>m,dX:()=>u,eh:()=>l,fh:()=>y,gu:()=>p,sZ:()=>h,tn:()=>j,xp:()=>f});var a=s(80263),n=s(53239),r=s(82457);let i="mx-auto w-full max-w-[1200px]",o="px-4 @lg:px-6 @xl:px-12 @2xl:px-20 @3xl:px-24",l=(0,n.forwardRef)((e,t)=>{let{className:s,bottomPadding:n,size:i="default",...l}=e;return(0,a.jsx)("div",{ref:t,...l,className:(0,r.cn)("mx-auto w-full",{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}[i],o,n&&"pb-16",s)})}),d=(0,n.forwardRef)((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("header",{...n,ref:t,className:(0,r.cn)("w-full","flex-col gap-3 py-6",s)})}),c=(0,n.forwardRef)((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("h1",{ref:t,...n,className:(0,r.cn)("text-2xl",s)})}),u=(0,n.forwardRef)((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("p",{ref:t,...n,className:(0,r.cn)("text-sm text-foreground-light",s)})}),p=(0,n.forwardRef)((e,t)=>{let{className:s,isFullWidth:n,topPadding:i,...o}=e;return(0,a.jsx)("div",{ref:t,...o,className:(0,r.cn)("flex flex-col first:pt-12 py-6",n?"w-full":"gap-3 lg:grid md:grid-cols-12",s)})}),m=(0,n.forwardRef)((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,...n,className:(0,r.cn)("w-full h-px bg-border",s)})}),h=(0,n.forwardRef)((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("h3",{ref:t,...n,className:(0,r.cn)("text-foreground text-xl",s)})}),x=(0,n.forwardRef)((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("p",{ref:t,...n,className:(0,r.cn)("text-sm text-foreground-light",s)})}),f=(0,n.forwardRef)((e,t)=>{let{className:s,children:n,title:i,...o}=e;return(0,a.jsxs)("div",{ref:t,...o,className:(0,r.cn)("col-span-4 xl:col-span-5 prose text-sm",s),children:[i&&(0,a.jsx)("h2",{children:i}),n]})}),v=(0,n.forwardRef)((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,...n,className:(0,r.cn)("col-span-8 xl:col-span-7","flex flex-col gap-6",s)})}),j=(0,n.forwardRef)((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,...n,className:(0,r.cn)("flex flex-col gap-3 items-center",s)})}),g=(0,n.forwardRef)((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,...n,className:(0,r.cn)("flex w-full items-center",s)})}),y=(0,n.forwardRef)((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,...n,className:(0,r.cn)("flex flex-row gap-3",s)})}),b=(0,n.forwardRef)((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,...n,className:(0,r.cn)("flex flex-col gap-3","min-w-[420px]",s)})}),N=(0,n.forwardRef)((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,...n,className:(0,r.cn)(i,o,"my-8 flex flex-col gap-8",s)})});d.displayName="ScaffoldHeader",c.displayName="ScaffoldTitle",u.displayName="ScaffoldDescription",l.displayName="ScaffoldContainer",m.displayName="ScaffoldDivider",p.displayName="ScaffoldSection",b.displayName="ScaffoldColumn",f.displayName="ScaffoldSectionDetail",v.displayName="ScaffoldSectionContent",j.displayName="ScaffoldFilterAndContent",g.displayName="ScaffoldActionsContainer",y.displayName="ScaffoldActionsGroup",N.displayName="ScaffoldContainerLegacy",h.displayName="ScaffoldSectionTitle",x.displayName="ScaffoldSectionDescription"},31817:(e,t,s)=>{"use strict";s.d(t,{F:()=>p});var a=s(80263),n=s(53239),r=s(5548),i=s(97164),o=s(53238),l=s(83207),d=s(67160),c=s(29260);let u={danger:(0,a.jsx)(i.A,{strokeWidth:1.5,size:18}),success:(0,a.jsx)(o.A,{strokeWidth:1.5,size:18}),warning:(0,a.jsx)(l.A,{strokeWidth:1.5,size:18}),info:(0,a.jsx)(d.A,{strokeWidth:1.5,size:18}),neutral:(0,a.jsx)(a.Fragment,{})};function p(e){let{variant:t="neutral",className:s,title:i,withIcon:o,closable:l,children:d,icon:p,actions:m}=e,h=(0,r.A)("alert"),[x,f]=(0,n.useState)(!0),v=[h.base];v.push(h.variant[t].base),s&&v.push(s);let j=[h.description,h.variant[t].description],g=[h.close];return(0,a.jsx)(a.Fragment,{children:x&&(0,a.jsxs)("div",{className:v.join(" "),children:[o?(0,a.jsx)("div",{className:h.variant[t].icon,children:o&&u[t]}):null,p&&p,(0,a.jsxs)("div",{className:"flex flex-1 items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:[h.variant[t].header,h.header].join(" "),children:i}),(0,a.jsx)("div",{className:j.join(" "),children:d})]}),m]}),l&&(0,a.jsx)("button",{"aria-label":"Close alert",onClick:()=>f(!1),className:g.join(" "),children:(0,a.jsx)(c.A,{strokeWidth:2,size:16})})]})})}},32078:(e,t,s)=>{"use strict";s.d(t,{R:()=>i});var a=s(80263),n=s(72470),r=s(82457);function i(e){let{infraComputeSize:t,className:s,...i}=e,o=(null==t?void 0:t.toLocaleLowerCase())==="micro"||(null==t?void 0:t.toLocaleLowerCase())==="nano";return(0,a.jsx)(n.E,{className:(0,r.cn)("rounded-md text-center flex justify-center font-mono uppercase","group-data-[state=open]:bg-opacity-20 group-data-[state=open]:ring-2 group-data-[state=open]:ring-opacity-20","transition-all",o?"group-data-[state=open]:ring-foreground-muted bg-opacity-50 group-data-[state=open]:bg-opacity-75":"group-data-[state=open]:ring-brand",s),variant:t?o?"default":"brand":"default",...i,"data-sentry-element":"Badge","data-sentry-component":"ComputeBadge","data-sentry-source-file":"index.tsx",children:t})}},32595:(e,t,s)=>{"use strict";s.d(t,{Y:()=>o});var a=s(80263),n=s(88712),r=s(37055),i=s(84161);function o(e){let{visible:t,description:s,actions:o,...l}=e;return(0,a.jsx)(n.N,{"data-sentry-element":"AnimatePresence","data-sentry-component":"NoticeBar","data-sentry-source-file":"NoticeBar.tsx",children:t&&(0,a.jsx)(r.P.div,{initial:{opacity:0,height:0,y:4},animate:{opacity:1,height:"auto",y:0},exit:{opacity:0,height:0,y:4},transition:{duration:.15},children:(0,a.jsxs)(i.Z,{...l,children:[s,(0,a.jsx)("div",{className:"flex flex-col gap-2",children:o&&(0,a.jsx)("div",{className:"mt-2",children:o})})]})})})}},36314:(e,t,s)=>{"use strict";s.d(t,{P:()=>a});let a={warehouseQuery:(e,t)=>["projects",e,"warehouse","query",t],warehouseTenant:e=>["projects",e,"warehouse","tenant"],warehouseCollections:e=>["projects",e,"warehouse","collections"],warehouseCollectionsCreate:e=>["projects",e,"warehouse","collections","create"],warehouseEndpoints:e=>["projects",e,"warehouse","endpoints"],warehouseBackends:e=>["projects",e,"warehouse","backends"],warehouseAccessTokens:e=>["projects",e,"warehouse","access-tokens"],functionsInvStats:(e,t)=>{let{interval:s,functionId:a}=t;return["projects",e,"functions-inv-stats",{interval:s,functionId:a}]},functionsReqStats:(e,t)=>{let{interval:s,functionId:a}=t;return["projects",e,"functions-req-stats",{interval:s,functionId:a}]},functionsResourceUsage:(e,t)=>{let{interval:s,functionId:a}=t;return["projects",e,"functions-resource-usage",{interval:s,functionId:a}]},orgDailyComputeStats:(e,t)=>{let{startDate:s,endDate:a,projectRef:r}=t;return["organizations",e,"daily-stats-compute",{startDate:n(s),endDate:n(a),projectRef:r}]},orgDailyStats:(e,t)=>{let{metric:s,startDate:a,endDate:r,interval:i,projectRef:o}=t;return["organizations",e,"daily-stats",{metric:s,startDate:n(a),endDate:n(r),interval:i,projectRef:o}]},infraMonitoring:(e,t)=>{let{attribute:s,startDate:a,endDate:n,interval:r,databaseIdentifier:i}=t;return["projects",e,"infra-monitoring",{attribute:s,startDate:a,endDate:n,interval:r,databaseIdentifier:i}]},usageApiCounts:(e,t)=>["projects",e,"usage.api-counts",t],usageApiRequestsCount:e=>["projects",e,"usage.api-requests-count"]};function n(e){return e?e.split("T")[0]:e}},45205:(e,t,s)=>{"use strict";s.d(t,{l:()=>o});var a=s(80263),n=s(51555),r=s(72470),i=s(68084);let o=e=>{let{page:t,menu:s}=e;return(0,a.jsx)("div",{className:"flex flex-col space-y-8 overflow-y-auto","data-sentry-component":"ProductMenu","data-sentry-source-file":"ProductMenu.tsx",children:(0,a.jsx)(n.Ay,{type:"pills","data-sentry-element":"Menu","data-sentry-source-file":"ProductMenu.tsx",children:s.map((e,o)=>(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"my-6 space-y-8",children:(0,a.jsxs)("div",{className:"mx-3",children:[(0,a.jsx)(n.Ay.Group,{title:e.title?(0,a.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,a.jsx)("span",{children:e.title}),e.isPreview&&(0,a.jsx)(r.E,{variant:"warning",children:"Not production ready"})]}):null}),(0,a.jsx)("div",{children:e.items.map(e=>{let s=e.pages?e.pages.includes(null!=t?t:""):t===e.key;return(0,a.jsx)(i.A,{url:e.url,name:e.name,icon:e.icon,rightIcon:e.rightIcon,isActive:s,isExternal:e.isExternal,target:e.isExternal?"_blank":"_self",label:e.label},e.key)})})]})}),o!==s.length-1&&(0,a.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},e.key||e.title))})})}},45948:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ep});var a=s(80263),n=s(53434),r=s.n(n),i=s(263),o=s(67160),l=s(90354),d=s(57728),c=s(796),u=s(26699),p=s.n(u),m=s(8758),h=s.n(m),x=s(53239),f=s(25481),v=s(531),j=s(32595),g=s(13030),y=s(9895),b=s(24717),N=s(80948),w=s(13933),P=s(56259),_=s(80999),k=s(41804),C=s(83142),A=s(2349),S=s(45628),I=s(97008),R=s(65475),T=s(53557),D=s(32211),E=s(35416),L=s(69938);let z=["pitr","customDomain","ipv4"];function M(){let[{panel:e},t]=(0,L.W)({replace:!0});return{panel:z.find(t=>t===e),setPanel:e=>{t({panel:e})},closePanel:()=>{t({panel:void 0})}}}var F=s(96773),U=s(37263),W=s(31817),G=s(32078),q=s(60045),B=s(73969),H=s(32144),$=s(80251),Y=s(48678),O=s(23319);async function X(e){let{projectRef:t,variant:s}=e;if(!t)throw Error("projectRef is required");if(!s)throw Error("variant is required");let{data:a,error:n}=await (0,Y.yH)("/platform/projects/{ref}/billing/addons/{addon_variant}",{params:{path:{ref:t,addon_variant:s}}});return n&&(0,Y.H4)(n),a}let V=function(){let{onSuccess:e,onError:t,...s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,H.jE)();return(0,$.n)(e=>X(e),{async onSuccess(t,s,n){let{projectRef:r}=s;await a.invalidateQueries(O.s.addons(r)),await (null==e?void 0:e(t,s,n))},async onError(e,s,a){void 0===t?B.oR.error("Failed to remove addon: ".concat(e.message)):t(e,s,a)},...s})};var Q=s(23777),J=s(19070),Z=s(96993),K=s(82457),ee=s(98444);let et=()=>{var e,t,s,n,r,o;let{ref:d}=(0,f.g)(),c=(0,S.a)(),u=(0,R._P)("customDomainsDisabledDueToQuota"),[p,m]=(0,x.useState)("cd_none"),v=(0,J.SE)(q.aG.BILLING_WRITE,"stripe.subscriptions"),{panel:j,closePanel:g}=M(),y="customDomain"===j,{data:b,isLoading:N}=(0,A.Q)({projectRef:d}),{mutate:w,isLoading:P}=(0,Q.F)({onSuccess:()=>{B.oR.success("Successfully enabled custom domain"),g()},onError:e=>{B.oR.error("Unable to enable custom domain: ".concat(e.message))}}),{mutate:_,isLoading:k}=V({onSuccess:()=>{B.oR.success("Successfully disabled custom domain"),g()},onError:e=>{B.oR.error("Unable to disable custom domain: ".concat(e.message))}}),C=P||k,I=(null!=(s=null==b?void 0:b.selected_addons)?s:[]).find(e=>"custom_domain"===e.type),T=null!=(r=null==(e=(null!=(n=null==b?void 0:b.available_addons)?n:[]).find(e=>"custom_domain"===e.type))?void 0:e.variants)?r:[],D=(null==c||null==(t=c.plan)?void 0:t.id)==="free",L=p!==(null!=(o=null==I?void 0:I.variant.identifier)?o:"cd_none"),z=T.find(e=>e.identifier===p);(0,x.useEffect)(()=>{y&&(void 0!==I?m(I.variant.identifier):m("cd_none"))},[y,N]);let G=async()=>{if(!d)return console.error("Project ref is required");"cd_none"===p&&void 0!==I?_({projectRef:d,variant:I.variant.identifier}):w({projectRef:d,type:"custom_domain",variant:p})};return(0,a.jsx)(Z.Ay,{size:"large",visible:y,onCancel:g,onConfirm:G,loading:N||C,disabled:D||N||!L||C||!v||void 0===I&&u,tooltip:D?"Unable to enable custom domain on a Free Plan":v?void 0:"You do not have permission to update custom domain",header:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h4",{children:"Custom domains"}),(0,a.jsx)(U.$,{asChild:!0,type:"default",icon:(0,a.jsx)(l.A,{strokeWidth:1.5}),children:(0,a.jsx)(h(),{href:"https://supabase.com/docs/guides/platform/custom-domains",target:"_blank",rel:"noreferrer",children:"About custom domains"})})]}),"data-sentry-element":"SidePanel","data-sentry-component":"CustomDomainSidePanel","data-sentry-source-file":"CustomDomainSidePanel.tsx",children:(0,a.jsx)(Z.Ay.Content,{"data-sentry-element":"unknown","data-sentry-source-file":"CustomDomainSidePanel.tsx",children:(0,a.jsxs)("div",{className:"py-6 space-y-4",children:[void 0===I&&void 0!==z&&u&&(0,a.jsxs)(F.Fc,{variant:"default",className:"mb-2",children:[(0,a.jsx)(i.A,{className:"h-4 w-4"}),(0,a.jsx)(F.XL,{children:"Adding new custom domains temporarily disabled"}),(0,a.jsx)(F.TN,{className:"flex flex-col gap-3",children:"We are working with our upstream DNS provider before we are able to sign up new custom domains. Please check back in a few hours."})]}),(0,a.jsxs)("p",{className:"text-sm",children:["Custom domains allow you to present a branded experience to your users. You may set up your custom domain in the"," ",(0,a.jsx)(h(),{href:"/project/".concat(d,"/settings/general"),className:"text-brand","data-sentry-element":"Link","data-sentry-source-file":"CustomDomainSidePanel.tsx",children:"General Settings"})," ","page after enabling the add-on."]}),(0,a.jsx)("div",{className:(0,K.cn)("!mt-8 pb-4",D&&"opacity-75"),children:(0,a.jsxs)(ee.A.Group,{type:"large-cards",size:"tiny",id:"custom-domain",onChange:e=>m(e.target.value),"data-sentry-element":"unknown","data-sentry-source-file":"CustomDomainSidePanel.tsx",children:[(0,a.jsx)(ee.A,{name:"custom-domain",checked:"cd_none"===p,className:"col-span-4 !p-0",label:"No custom domain",value:"cd_none","data-sentry-element":"Radio","data-sentry-source-file":"CustomDomainSidePanel.tsx",children:(0,a.jsxs)("div",{className:"w-full group",children:[(0,a.jsx)("div",{className:"border-b border-default px-4 py-2 group-hover:border-control",children:(0,a.jsx)("p",{className:"text-sm",children:"No custom domain"})}),(0,a.jsxs)("div",{className:"px-4 py-2",children:[(0,a.jsx)("p",{className:"text-foreground-light",children:"Use the default supabase domain for your API"}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 mt-2",children:[(0,a.jsx)("p",{className:"text-foreground text-sm",translate:"no",children:"$0"}),(0,a.jsx)("p",{className:"text-foreground-light translate-y-[1px]",children:" / month"})]})]})]})}),T.map(e=>(0,a.jsx)(ee.A,{className:"col-span-4 !p-0",name:"custom-domain",disabled:D,checked:p===e.identifier,label:e.name,value:e.identifier,children:(0,a.jsxs)("div",{className:"w-full group",children:[(0,a.jsx)("div",{className:"border-b border-default px-4 py-2 group-hover:border-control",children:(0,a.jsx)("p",{className:"text-sm",children:e.name})}),(0,a.jsxs)("div",{className:"px-4 py-2",children:[(0,a.jsx)("p",{className:"text-foreground-light",children:"Present a branded experience to your users"}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 mt-2",children:[(0,a.jsx)("p",{className:"text-foreground text-sm",translate:"no",children:(0,E.vv)(e.price)}),(0,a.jsx)("p",{className:"text-foreground-light translate-y-[1px]",children:" / month"})]})]})]})},e.identifier))]})}),L&&"cd_none"!==p&&(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"There are no immediate charges. The addon is billed at the end of your billing cycle based on your usage and prorated to the hour."}),D&&(0,a.jsx)(W.F,{withIcon:!0,variant:"info",title:"Custom domains are unavailable on the Free Plan",actions:(0,a.jsx)(U.$,{asChild:!0,type:"default",children:(0,a.jsx)(h(),{href:"/org/".concat(null==c?void 0:c.slug,"/billing?panel=subscriptionPlan&source=customDomainSidePanel"),children:"View available plans"})}),children:"Upgrade your plan to add a custom domain to your project"})]})})})};var es=s(26455),ea=s(84161);let en=()=>{var e,t,s,n,r,i;let o=(0,I.lh)(),{ref:d}=(0,f.g)(),c=(0,S.a)(),[u,p]=(0,x.useState)("ipv4_none"),m=(0,J.SE)(q.aG.BILLING_WRITE,"stripe.subscriptions"),{panel:v,closePanel:j}=M(),g="ipv4"===v,{data:y,isLoading:b}=(0,A.Q)({projectRef:d}),{mutate:N,isLoading:w}=(0,Q.F)({onSuccess:()=>{B.oR.success("Successfully enabled IPv4"),j()},onError:e=>{B.oR.error("Unable to enable IPv4: ".concat(e.message))}}),{mutate:P,isLoading:_}=V({onSuccess:()=>{B.oR.success("Successfully disabled IPv4."),j()},onError:e=>{B.oR.error("Unable to disable IPv4: ".concat(e.message))}}),k=w||_,C=(null!=(s=null==y?void 0:y.selected_addons)?s:[]).find(e=>"ipv4"===e.type),R=null!=(r=null==(e=(null!=(n=null==y?void 0:y.available_addons)?n:[]).find(e=>"ipv4"===e.type))?void 0:e.variants)?r:[],T=(null==c||null==(t=c.plan)?void 0:t.id)==="free",D=u!==(null!=(i=null==C?void 0:C.variant.identifier)?i:"ipv4_none"),L=R.find(e=>e.identifier===u),z=!T;(0,x.useEffect)(()=>{g&&(void 0!==C?p(C.variant.identifier):p("ipv4_none"))},[g,b]);let F=async()=>{if(!d)return console.error("Project ref is required");"ipv4_none"===u&&void 0!==C?P({projectRef:d,variant:C.variant.identifier}):N({projectRef:d,type:"ipv4",variant:u})};return(0,a.jsx)(Z.Ay,{size:"large",visible:g,onCancel:j,onConfirm:F,loading:b||k,disabled:T||b||!D||k||!m||!o,tooltip:T?"Unable to enable IPv4 on a Free Plan":m?void 0:"You do not have permission to update IPv4",header:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h4",{children:"Dedicated IPv4 address"}),(0,a.jsx)(U.$,{asChild:!0,type:"default",icon:(0,a.jsx)(l.A,{strokeWidth:1.5}),children:(0,a.jsx)(h(),{href:"https://supabase.com/docs/guides/platform/ipv4-address",target:"_blank",rel:"noreferrer",children:"About dedicated IPv4 addresses"})})]}),"data-sentry-element":"SidePanel","data-sentry-component":"IPv4SidePanel","data-sentry-source-file":"IPv4SidePanel.tsx",children:(0,a.jsx)(Z.Ay.Content,{"data-sentry-element":"unknown","data-sentry-source-file":"IPv4SidePanel.tsx",children:(0,a.jsxs)("div",{className:"py-6 space-y-4",children:[(0,a.jsx)("p",{className:"text-sm",children:"Direct connections to the database only work if your client is able to resolve IPv6 addresses. Enabling the dedicated IPv4 add-on allows you to directly connect to your database via a IPv4 address."}),!o&&(0,a.jsx)(ea.Z,{type:"default",title:"Dedicated IPv4 address is only available for AWS projects"}),z?(0,a.jsx)(ea.Z,{type:"default",title:"The Dedicated Pooler does not support IPv4 addresses",description:"If you are connecting to your database via the Dedicated Pooler, you may need this add-on if your network does not support communicating via IPv6. Alternatively, you may consider using our Shared Pooler."}):(0,a.jsxs)("p",{className:"text-sm",children:["If you are connecting via the Shared connection pooler, you do not need this add-on as our pooler resolves to IPv4 addresses. You can check your connection info in your"," ",(0,a.jsx)(es.g,{href:"/project/".concat(d,"/settings/database#connection-pooler"),children:"project database settings"}),"."]}),(0,a.jsx)("div",{className:(0,K.cn)("!mt-8 pb-4",T&&"opacity-75"),children:(0,a.jsxs)(ee.A.Group,{type:"large-cards",size:"tiny",id:"ipv4",onChange:e=>p(e.target.value),"data-sentry-element":"unknown","data-sentry-source-file":"IPv4SidePanel.tsx",children:[(0,a.jsx)(ee.A,{name:"ipv4",checked:"ipv4_none"===u,className:"col-span-4 !p-0",label:"No IPv4",value:"ipv4_none","data-sentry-element":"Radio","data-sentry-source-file":"IPv4SidePanel.tsx",children:(0,a.jsxs)("div",{className:"w-full group",children:[(0,a.jsx)("div",{className:"border-b border-default px-4 py-2 group-hover:border-control",children:(0,a.jsx)("p",{className:"text-sm",children:"No IPv4 address"})}),(0,a.jsxs)("div",{className:"px-4 py-2 flex flex-col justify-between",children:[(0,a.jsx)("p",{className:"text-foreground-light",children:"Use connection pooler or IPv6 for direct connections"}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 mt-2",children:[(0,a.jsx)("p",{className:"text-foreground text-sm",children:"$0"}),(0,a.jsx)("p",{className:"text-foreground-light translate-y-[1px]",children:" / month"})]})]})]})}),R.map(e=>(0,a.jsx)(ee.A,{className:"col-span-4 !p-0",name:"ipv4",disabled:T||!o,checked:u===e.identifier,label:e.name,value:e.identifier,children:(0,a.jsxs)("div",{className:"w-full group",children:[(0,a.jsx)("div",{className:"border-b border-default px-4 py-2 group-hover:border-control",children:(0,a.jsx)("p",{className:"text-sm",children:"Dedicated IPv4 address"})}),(0,a.jsxs)("div",{className:"px-4 py-2",children:[(0,a.jsx)("p",{className:"text-foreground-light",children:"Allow direct database connections via IPv4 address"}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 mt-2",children:[(0,a.jsx)("p",{className:"text-foreground text-sm",translate:"no",children:(0,E.vv)(e.price)}),(0,a.jsx)("p",{className:"text-foreground-light translate-y-[1px]",children:"/ month / database"})]})]})]})},e.identifier))]})}),D&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ea.Z,{type:"note",title:"Potential downtime",description:"There might be some downtime when enabling the add-on since some DNS clients might have cached the old DNS entry. Generally, this should be less than a minute."}),"ipv4_none"!==u&&(0,a.jsxs)("p",{className:"text-sm text-foreground-light",children:["By default, this is only applied to the Primary database for your project. If"," ",(0,a.jsx)(h(),{href:"/docs/guides/platform/read-replicas",className:"text-brand",target:"_blank",children:"Read replicas"})," ","are used, each replica also gets its own IPv4 address, with a corresponding"," ",(0,a.jsx)("span",{className:"text-foreground",children:(0,E.vv)(null==L?void 0:L.price)})," ","charge."]}),(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"There are no immediate charges. The addon is billed at the end of your billing cycle based on your usage and prorated to the hour."})]}),T&&(0,a.jsxs)(ea.Z,{type:"note",title:"IPv4 add-on is unavailable on the Free Plan",children:[(0,a.jsx)("p",{children:"Upgrade your plan to enable a IPv4 address for your project"}),(0,a.jsx)(U.$,{asChild:!0,type:"default",children:(0,a.jsx)(h(),{href:"/org/".concat(null==c?void 0:c.slug,"/billing?panel=subscriptionPlan&source=ipv4SidePanel"),children:"View available plans"})})]})]})})})};var er=s(58173);let ei=[{id:"off",name:"Disable PITR",imageUrl:"".concat(D.o2,"/img/pitr-off.svg?v=2"),imageUrlLight:"".concat(D.o2,"/img/pitr-off--light.svg?v=2")},{id:"on",name:"Enable PITR",imageUrl:"".concat(D.o2,"/img/pitr-on.svg?v=2"),imageUrlLight:"".concat(D.o2,"/img/pitr-on--light.svg?v=2")}],eo=()=>{var e,t,s,n,r,i;let{ref:o}=(0,f.g)(),{resolvedTheme:d}=(0,c.D)(),u=(0,I.KT)(),p=(0,S.a)(),{data:m}=(0,k.Gm)({projectRef:o}),[j,g]=(0,x.useState)("off"),[y,b]=(0,x.useState)("pitr_0"),N=(0,J.SE)(q.aG.BILLING_WRITE,"stripe.subscriptions"),w=(null==u?void 0:u.is_branch_enabled)===!0||(null==u?void 0:u.parent_project_ref)!==void 0,{panel:P,closePanel:_}=M(),R="pitr"===P,{data:T,isLoading:D}=(0,A.Q)({projectRef:o}),{data:L}=(0,C.j5)({orgSlug:null==p?void 0:p.slug}),z=(0,v.BP)(L)&&(null==m?void 0:m.is_sensitive),{mutate:G,isLoading:H}=(0,Q.F)({onSuccess:()=>{B.oR.success("Successfully updated point in time recovery duration"),_()},onError:e=>{B.oR.error("Unable to update PITR: ".concat(e.message))}}),{mutate:$,isLoading:Y}=V({onSuccess:()=>{B.oR.success("Successfully disabled point in time recovery"),_()},onError:e=>{B.oR.error("Unable to disable PITR: ".concat(e.message))}}),O=H||Y,X=null!=(s=null==T?void 0:T.selected_addons)?s:[],et=null!=(n=null==T?void 0:T.available_addons)?n:[],es=X.find(e=>"compute_instance"===e.type),ea=X.find(e=>"pitr"===e.type),en=null!=(r=null==(e=et.find(e=>"pitr"===e.type))?void 0:e.variants)?r:[],eo=y!==(null!=(i=null==ea?void 0:ea.variant.identifier)?i:"pitr_0"),el=(null==L||null==(t=L.plan)?void 0:t.id)==="free",ed=en.find(e=>e.identifier===y),ec=!!es&&"ci_micro"!==es.variant.identifier,eu=z&&("on"!==j||(null==ed?void 0:ed.identifier)!=="pitr_28"),ep=async()=>{if(!o)return console.error("Project ref is required");"pitr_0"===y&&void 0!==ea?$({projectRef:o,variant:ea.variant.identifier}):G({projectRef:o,type:"pitr",variant:y})};return(0,x.useEffect)(()=>{R&&(void 0!==ea?(g("on"),b(ea.variant.identifier)):(g("off"),b("pitr_0")))},[R,D]),(0,a.jsx)(Z.Ay,{size:"xlarge",visible:R,onCancel:_,onConfirm:ep,loading:D||O,disabled:el||D||!eo||O||!N||!!ed&&!ec||eu,tooltip:eu?"Unable to disable PITR with HIPAA add-on":el?"Unable to enable point in time recovery on a Free Plan":N?void 0:"You do not have permission to update PITR",header:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h4",{children:"Point in Time Recovery"}),(0,a.jsx)(U.$,{asChild:!0,type:"default",icon:(0,a.jsx)(l.A,{strokeWidth:1.5}),children:(0,a.jsx)(h(),{href:"https://supabase.com/docs/guides/platform/backups#point-in-time-recovery",target:"_blank",rel:"noreferrer",children:"About point in time recovery"})})]}),"data-sentry-element":"SidePanel","data-sentry-component":"PITRSidePanel","data-sentry-source-file":"PITRSidePanel.tsx",children:(0,a.jsx)(Z.Ay.Content,{"data-sentry-element":"unknown","data-sentry-source-file":"PITRSidePanel.tsx",children:(0,a.jsxs)("div",{className:"py-6 space-y-4",children:[(0,a.jsx)("p",{className:"text-sm",children:"Point-in-Time Recovery (PITR) allows a project to be backed up at much shorter intervals. This provides users an option to restore to any chosen point of up to seconds in granularity."}),(0,a.jsx)("div",{className:"!mt-8 pb-4",children:(0,a.jsx)("div",{className:"flex gap-3",children:ei.map(e=>{let t=j===e.id;return(0,a.jsxs)("div",{className:(0,K.cn)("col-span-3 group space-y-1",el&&"opacity-75"),onClick:()=>{g(e.id),"off"===e.id?b("pitr_0"):(null==ea?void 0:ea.variant.identifier)!==void 0?b(ea.variant.identifier):z?b("pitr_28"):b("pitr_7")},children:[(0,a.jsx)("img",{alt:"Point-In-Time-Recovery",className:(0,K.cn)("relative rounded-xl transition border bg-no-repeat bg-center bg-cover cursor-pointer w-[160px] h-[96px]",t?"border-foreground":"border-foreground-muted opacity-50 group-hover:border-foreground-lighter group-hover:opacity-100"),width:160,height:96,src:(null==d?void 0:d.includes("dark"))?e.imageUrl:e.imageUrlLight}),(0,a.jsx)("p",{className:(0,K.cn)("text-sm transition",t?"text-foreground":"text-foreground-light"),children:e.name})]},e.id)})})}),"off"===j&&void 0!==ea&&w&&(0,a.jsxs)(F.Fc,{variant:"warning",children:[(0,a.jsx)(er.HV,{}),(0,a.jsx)(F.XL,{children:"Are you sure you want to disable this while using Branching?"}),(0,a.jsx)(F.TN,{children:"Without PITR, you might not be able to recover lost data if you accidentally merge a branch that deletes a column or user data. We don't recommend this."})]}),eu?(0,a.jsxs)(F.Fc,{children:[(0,a.jsx)(F.XL,{children:"PITR cannot be disabled on HIPAA projects"}),(0,a.jsx)(F.TN,{children:"PITR is enabled by default for all HIPAA projects and cannot be turned off. Contact support for further assistance."}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(U.$,{type:"default",asChild:!0,children:(0,a.jsx)(h(),{href:"/support/new",children:"Contact support"})})})]}):null,"on"===j&&(0,a.jsxs)("div",{className:"!mt-8 pb-4",children:[el?(0,a.jsx)(W.F,{withIcon:!0,variant:"info",className:"mb-4",title:"Changing your Point-In-Time-Recovery is only available on the Pro Plan",actions:(0,a.jsx)(U.$,{asChild:!0,type:"default",children:(0,a.jsx)(h(),{href:"/org/".concat(null==p?void 0:p.slug,"/billing?panel=subscriptionPlan&source=pitrSidePanel"),children:"View available plans"})}),children:"Upgrade your plan to change PITR for your project"}):ec?null:(0,a.jsx)(W.F,{withIcon:!0,variant:"warning",className:"mb-4",title:"Your project is required to minimally be on a Small compute size to enable PITR",actions:[(0,a.jsx)(U.$,{asChild:!0,type:"default",children:(0,a.jsx)(h(),{href:"/project/".concat(o,"/settings/compute-and-disk"),children:"Change compute size"})},"change-compute")],children:"This is to ensure that your project has enough resources to execute PITR successfully"}),(0,a.jsx)(ee.A.Group,{type:"large-cards",size:"tiny",id:"pitr",label:(0,a.jsx)("p",{className:"text-sm",children:"Choose the duration of recovery"}),onChange:e=>b(e.target.value),children:en.map(e=>(0,a.jsx)(ee.A,{name:"pitr",disabled:el||void 0===es,className:"col-span-4 !p-0",checked:y===e.identifier,label:(0,a.jsx)("span",{className:"text-sm",children:e.name}),value:e.identifier,children:(0,a.jsxs)("div",{className:"w-full group",children:[(0,a.jsx)("div",{className:"border-b border-default px-4 py-2",children:(0,a.jsx)("p",{className:"text-sm",children:e.name})}),(0,a.jsxs)("div",{className:"px-4 py-2",children:[(0,a.jsxs)("p",{className:"text-foreground-light",children:["Allow database restorations to any time up to"," ",e.identifier.split("_")[1]," days ago"]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 mt-2",children:[(0,a.jsx)("p",{className:"text-foreground text-sm",translate:"no",children:(0,E.vv)(e.price)}),(0,a.jsx)("p",{className:"text-foreground-light translate-y-[1px]",children:" / month"})]})]})]})},e.identifier))})]}),eo&&"pitr_0"!==y&&(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"There are no immediate charges. The addon is billed at the end of your billing cycle based on your usage and prorated to the hour."})]})})})},el=()=>{var e,t,s,n,u,m,L,z,q,B,H,$,Y;let{resolvedTheme:O}=(0,c.D)(),{ref:X}=(0,f.g)(),{setPanel:V}=M(),Q=(0,S.a)(),{project:J,isLoading:Z}=(0,y.Om)(),K=(0,I.Ne)(null==J?void 0:J.parent_project_ref),ee=void 0!==K,es=(0,y.f2)(),ea=(0,I.CG)(),{data:er}=(0,k.Gm)({projectRef:X}),{data:ei}=(0,C.j5)({orgSlug:null==Q?void 0:Q.slug}),el=(0,R._P)("disableProjectCreationAndUpdate"),ed=(0,v.BP)(ei)&&(null==er?void 0:er.is_sensitive),ec=(0,T.g)(null==J?void 0:J.cloud_provider),eu=(0,E.h_)(null!=(n=null==J?void 0:J.dbVersion)?n:"")>14||(0,E.xM)(null!=(u=null==J?void 0:J.dbVersion)?u:"")>=141044,ep=(0,x.useMemo)(()=>r()().subtract(15,"minutes").millisecond(0).toISOString(),[]),em=(0,x.useMemo)(()=>r()().millisecond(0).toISOString(),[]),{data:eh}=(0,_.q)({projectRef:X,attribute:"disk_io_budget",interval:"5m",startDate:ep,endDate:em}),[ex]=(null!=(m=null==eh?void 0:eh.data)?m:[]).slice(-1),{data:ef,error:ev,isLoading:ej,isError:eg,isSuccess:ey}=(0,A.Q)({projectRef:X}),eb=null!=(L=null==ef?void 0:ef.selected_addons)?L:[],{computeInstance:eN,pitr:ew,customDomain:eP,ipv4:e_}=(0,v.EN)(eb),ek=(0,x.useMemo)(()=>{var e;let t=null==eN||null==(e=eN.variant)?void 0:e.meta;return t||(null==J?void 0:J.infra_compute_size)!=="nano"?(null==J?void 0:J.infra_compute_size)==="micro"?D.Mc:t:D.kC},[J,eN]),eC=(null==er?void 0:er.db_ip_addr_config)==="ipv6";return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.cJ,{"data-sentry-element":"ScaffoldDivider","data-sentry-source-file":"Addons.tsx"}),ee&&(0,a.jsx)(b.eh,{children:(0,a.jsxs)(F.Fc,{variant:"default",className:"mt-6",children:[(0,a.jsx)(i.A,{strokeWidth:2}),(0,a.jsx)(F.XL,{children:"You are currently on a preview branch of your project"}),(0,a.jsxs)(F.TN,{children:["Updating addons here will only apply to this preview branch. To manage your addons, for your main branch, please visit the"," ",(0,a.jsx)(h(),{href:"/project/".concat(K.ref,"/settings/general"),className:"text-brand",children:"main branch"}),"."]})]})}),ej&&(0,a.jsx)(b.eh,{children:(0,a.jsx)(b.gu,{children:(0,a.jsx)("div",{className:"col-span-12",children:(0,a.jsx)(P.y,{})})})}),eg&&(0,a.jsx)(b.eh,{children:(0,a.jsx)(b.gu,{children:(0,a.jsx)("div",{className:"col-span-12",children:(0,a.jsx)(N.A,{error:ev,subject:"Failed to retrieve project addons"})})})}),ey&&(0,a.jsxs)(a.Fragment,{children:[(null==J?void 0:J.infra_compute_size)==="nano"&&(null==ei?void 0:ei.plan.id)!=="free"&&(0,a.jsx)(b.eh,{className:"mt-4",children:(0,a.jsxs)(F.Fc,{variant:"default",children:[(0,a.jsx)(o.A,{strokeWidth:2}),(0,a.jsx)(F.XL,{children:"Free compute upgrade to Micro"}),(0,a.jsx)(F.TN,{children:"Paid Plans include a free upgrade to Micro compute. Your project is ready to upgrade for no additional charges."})]})}),(0,a.jsx)(b.eh,{children:(0,a.jsxs)(b.gu,{children:[(0,a.jsx)(b.xp,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("p",{className:"m-0",children:"Compute Size"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light m-0",children:"More information"}),(0,a.jsx)("div",{children:(0,a.jsx)(h(),{href:"https://supabase.com/docs/guides/platform/compute-add-ons",target:"_blank",rel:"noreferrer",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 opacity-50 hover:opacity-100 transition",children:[(0,a.jsx)("p",{className:"text-sm m-0",children:"About compute add-ons"}),(0,a.jsx)(l.A,{size:16,strokeWidth:1.5})]})})}),(0,a.jsx)("div",{children:(0,a.jsx)(h(),{href:"https://supabase.com/docs/guides/database/connecting-to-postgres#connection-pooler",target:"_blank",rel:"noreferrer",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 opacity-50 hover:opacity-100 transition",children:[(0,a.jsx)("p",{className:"text-sm m-0",children:"Connection Pooler"}),(0,a.jsx)(l.A,{size:16,strokeWidth:1.5})]})})})]})]})}),(0,a.jsx)(b.Rf,{children:(0,a.jsxs)("div",{className:"flex space-x-6",children:[(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"rounded-md bg-surface-100 border border-muted w-[160px] h-[96px] overflow-hidden",children:(0,a.jsx)(p(),{alt:"Compute size",width:160,height:96,src:["nano","micro"].includes((null==J?void 0:J.infra_compute_size)||"micro")?"".concat(D.o2,"/img/optimized-compute-off").concat((null==O?void 0:O.includes("dark"))?"":"--light",".svg"):"".concat(D.o2,"/img/optimized-compute-on").concat((null==O?void 0:O.includes("dark"))?"":"--light",".svg")})})}),(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Current option:"}),ej||void 0===eN&&Z?(0,a.jsx)(P.A,{className:"w-32"}):(0,a.jsx)("div",{className:"flex py-3",children:(0,a.jsx)(G.R,{infraComputeSize:null==J?void 0:J.infra_compute_size,size:"large"})}),(0,a.jsx)(j.Y,{visible:!0,type:"default",title:"Compute size has moved",description:"Compute size is now managed alongside Disk configuration on the new Compute and Disk page.",actions:(0,a.jsx)(U.$,{type:"default",asChild:!0,children:(0,a.jsx)(h(),{href:"/project/".concat(X,"/settings/compute-and-disk"),children:"Go to Compute and Disk"})})}),0===Number(null==ex?void 0:ex.disk_io_budget)?(0,a.jsxs)(W.F,{withIcon:!0,className:"mt-4",variant:"danger",title:"Your disk IO budget has run out for today",children:[(0,a.jsxs)("p",{children:["Your workload is currently running at the baseline disk IO bandwidth at"," ",null!=(z=null==ek||null==(e=ek.baseline_disk_io_mbs)?void 0:e.toLocaleString())?z:"-"," Mbps and may suffer degradation in performance."]}),(0,a.jsx)("p",{className:"mt-1",children:"Consider upgrading to a larger compute instance for a higher baseline throughput."})]}):10>=Number(null==ex?void 0:ex.disk_io_budget)?(0,a.jsxs)(W.F,{withIcon:!0,className:"mt-4",variant:"warning",title:"Your disk IO budget is running out for today",children:[(0,a.jsxs)("p",{children:["If the disk IO budget drops to zero, your workload will run at the baseline disk IO bandwidth at"," ",null!=(q=null==ek||null==(t=ek.baseline_disk_io_mbs)?void 0:t.toLocaleString())?q:"-"," Mbps and may suffer degradation in performance."]}),(0,a.jsx)("p",{className:"mt-1",children:"Consider upgrading to a larger compute instance for a higher baseline throughput."})]}):null,(0,a.jsxs)("div",{className:"mt-2 w-full flex items-center justify-between border-b py-2",children:[(0,a.jsx)(h(),{href:"/project/".concat(X,"/settings/infrastructure#ram"),children:(0,a.jsxs)("div",{className:"group flex items-center space-x-2",children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light group-hover:text-foreground transition cursor-pointer",children:"Memory"}),(0,a.jsx)(d.A,{strokeWidth:1.5,size:16,className:"transition opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0"})]})}),(0,a.jsxs)("p",{className:"text-sm",children:[null!=(B=null==ek?void 0:ek.memory_gb)?B:"-"," GB"]})]}),(0,a.jsxs)("div",{className:"w-full flex items-center justify-between border-b py-2",children:[(0,a.jsx)(h(),{href:"/project/".concat(X,"/settings/infrastructure#cpu"),children:(0,a.jsxs)("div",{className:"group flex items-center space-x-2",children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light group-hover:text-foreground transition cursor-pointer",children:"CPU"}),(0,a.jsx)(d.A,{strokeWidth:1.5,size:16,className:"transition opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0"})]})}),(0,a.jsxs)("p",{className:"text-sm",children:[null!=(H=null==ek?void 0:ek.cpu_cores)?H:"?","-core ",ec," ",(null==ek?void 0:ek.cpu_dedicated)?"(Dedicated)":"(Shared)"]})]}),(0,a.jsxs)("div",{className:"w-full flex items-center justify-between border-b py-2",children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"No. of direct connections"}),(0,a.jsx)("p",{className:"text-sm",children:null!=($=null==ek?void 0:ek.connections_direct)?$:"-"})]}),(0,a.jsxs)("div",{className:"w-full flex items-center justify-between border-b py-2",children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"No. of pooler connections"}),(0,a.jsx)("p",{className:"text-sm",children:null!=(Y=null==ek?void 0:ek.connections_pooler)?Y:"-"})]})]})]})})]})}),(0,a.jsx)(b.cJ,{}),(0,a.jsx)(b.eh,{children:(0,a.jsxs)(b.gu,{children:[(0,a.jsx)(b.xp,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("p",{className:"m-0",children:"Dedicated IPv4 address"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light m-0",children:"More information"}),(0,a.jsx)("div",{children:(0,a.jsx)(h(),{href:"https://supabase.com/docs/guides/platform/ipv4-address",target:"_blank",rel:"noreferrer",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 opacity-50 hover:opacity-100 transition",children:[(0,a.jsx)("p",{className:"text-sm m-0",children:"About IPv4 deprecation"}),(0,a.jsx)(l.A,{size:16,strokeWidth:1.5})]})})})]})]})}),(0,a.jsx)(b.Rf,{children:(0,a.jsxs)("div",{className:"flex space-x-6",children:[(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"rounded-md bg-surface-100 border border-muted w-[160px] h-[96px] overflow-hidden",children:(0,a.jsx)("img",{alt:"IPv4",width:160,height:96,src:void 0!==e_?"".concat(D.o2,"/img/ipv4-on").concat((null==O?void 0:O.includes("dark"))?"":"--light",".svg?v=2"):"".concat(D.o2,"/img/ipv4-off").concat((null==O?void 0:O.includes("dark"))?"":"--light",".svg?v=2")})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Current option:"}),(0,a.jsx)("p",{children:void 0!==e_?"Dedicated IPv4 address is enabled":"Dedicated IPv4 address is not enabled"}),(0,a.jsx)(w.G,{type:"default",className:"mt-2 pointer-events-auto",onClick:()=>V("ipv4"),disabled:!es||el||!(eC||e_),tooltip:{content:{side:"bottom",text:eC||e_?void 0:"Temporarily disabled while we are migrating to IPv6, please check back later."}},children:"Change dedicated IPv4 address"})]})]})})]})}),(0,a.jsx)(b.cJ,{}),(0,a.jsx)(b.eh,{children:(0,a.jsxs)(b.gu,{children:[(0,a.jsx)(b.xp,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("p",{className:"m-0",children:"Point in time recovery"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light m-0",children:"More information"}),(0,a.jsx)("div",{children:(0,a.jsx)(h(),{href:"https://supabase.com/docs/guides/platform/backups#point-in-time-recovery",target:"_blank",rel:"noreferrer",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 opacity-50 hover:opacity-100 transition",children:[(0,a.jsx)("p",{className:"text-sm m-0",children:"About PITR backups"}),(0,a.jsx)(l.A,{size:16,strokeWidth:1.5})]})})})]})]})}),(0,a.jsxs)(b.Rf,{children:[ed&&(0,a.jsxs)(F.Fc,{children:[(0,a.jsx)(F.XL,{children:"PITR cannot be changed with HIPAA"}),(0,a.jsx)(F.TN,{children:"All projects should have PITR enabled by default and cannot be changed with HIPAA enabled. Contact support for further assistance."}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(U.$,{type:"default",asChild:!0,children:(0,a.jsx)(h(),{href:"/support/new",children:"Contact support"})})})]}),(0,a.jsxs)("div",{className:"flex space-x-6",children:[(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"rounded-md bg-surface-100 border border-muted w-[160px] h-[96px] overflow-hidden",children:(0,a.jsx)(p(),{alt:"Point-In-Time-Recovery",width:160,height:96,src:void 0!==ew?"".concat(D.o2,"/img/pitr-on").concat((null==O?void 0:O.includes("dark"))?"":"--light",".svg"):"".concat(D.o2,"/img/pitr-off").concat((null==O?void 0:O.includes("dark"))?"":"--light",".svg")})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Current option:"}),(0,a.jsx)("p",{children:void 0!==ew?"Point in time recovery of ".concat(null==(s=ew.variant.meta)?void 0:s.backup_duration_days," days is enabled"):"Point in time recovery is not enabled"}),eu?ea?(0,a.jsx)(w.G,{disabled:!0,type:"default",className:"mt-2",tooltip:{content:{side:"bottom",text:"Point in time recovery is not supported with OrioleDB"}},children:"Change point in time recovery"}):(0,a.jsx)(g.A,{projectUpdateDisabled:el,projectNotActive:!es,children:(0,a.jsx)(U.$,{type:"default",className:"mt-2 pointer-events-auto",onClick:()=>V("pitr"),disabled:!es||el||!eu||ed,children:"Change point in time recovery"})}):(0,a.jsxs)(F.Fc,{className:"mt-2",children:[(0,a.jsx)(F.XL,{children:"Your project is too old to enable PITR"}),(0,a.jsxs)(F.TN,{children:[(0,a.jsx)("p",{className:"text-sm leading-normal mb-2",children:"Reach out to us via support if you're interested"}),(0,a.jsx)(U.$,{asChild:!0,type:"default",children:(0,a.jsx)(h(),{href:"/support/new?projectRef=".concat(X,"&category=sales&subject=Project%20too%20old%20old%20for%20PITR"),children:(0,a.jsx)("a",{children:"Contact support"})})})]})]})]})]})]})]})}),(0,a.jsx)(b.cJ,{}),(0,a.jsx)(b.eh,{children:(0,a.jsxs)(b.gu,{children:[(0,a.jsx)(b.xp,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("p",{className:"m-0",children:"Custom domain"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light m-0",children:"More information"}),(0,a.jsx)("div",{children:(0,a.jsx)(h(),{href:"https://supabase.com/docs/guides/platform/custom-domains",target:"_blank",rel:"noreferrer",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 opacity-50 hover:opacity-100 transition",children:[(0,a.jsx)("p",{className:"text-sm m-0",children:"About custom domains"}),(0,a.jsx)(l.A,{size:16,strokeWidth:1.5})]})})})]})]})}),(0,a.jsx)(b.Rf,{children:(0,a.jsxs)("div",{className:"flex space-x-6",children:[(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"rounded-md bg-surface-100 border border-muted w-[160px] h-[96px] overflow-hidden",children:(0,a.jsx)("img",{alt:"Custom Domain",width:160,height:96,src:void 0!==eP?"".concat(D.o2,"/img/custom-domain-on").concat((null==O?void 0:O.includes("dark"))?"":"--light",".svg"):"".concat(D.o2,"/img/custom-domain-off").concat((null==O?void 0:O.includes("dark"))?"":"--light",".svg")})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Current option:"}),(0,a.jsx)("p",{children:void 0!==eP?"Custom domain is enabled":"Custom domain is not enabled"}),(0,a.jsx)(g.A,{projectUpdateDisabled:el,projectNotActive:!es,children:(0,a.jsx)(U.$,{type:"default",className:"mt-2 pointer-events-auto",onClick:()=>V("customDomain"),disabled:!es||el,children:"Change custom domain"})})]})]})})]})})]}),(0,a.jsx)(eo,{"data-sentry-element":"PITRSidePanel","data-sentry-source-file":"Addons.tsx"}),(0,a.jsx)(et,{"data-sentry-element":"CustomDomainSidePanel","data-sentry-source-file":"Addons.tsx"}),(0,a.jsx)(en,{"data-sentry-element":"IPv4SidePanel","data-sentry-source-file":"Addons.tsx"})]})};var ed=s(4649),ec=s(17835);let eu=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.eh,{"data-sentry-element":"ScaffoldContainer","data-sentry-source-file":"addons.tsx",children:(0,a.jsxs)(b.Uw,{"data-sentry-element":"ScaffoldHeader","data-sentry-source-file":"addons.tsx",children:[(0,a.jsx)(b.Dm,{"data-sentry-element":"ScaffoldTitle","data-sentry-source-file":"addons.tsx",children:"Add ons"}),(0,a.jsx)(b.dX,{"data-sentry-element":"ScaffoldDescription","data-sentry-source-file":"addons.tsx",children:"Level up your project with add-ons"})]})}),(0,a.jsx)(el,{"data-sentry-element":"Addons","data-sentry-source-file":"addons.tsx"})]});eu.getLayout=e=>(0,a.jsx)(ed.A,{children:(0,a.jsx)(ec.A,{title:"Add ons",children:e})});let ep=eu},51555:(e,t,s)=>{"use strict";s.d(t,{Ay:()=>p});var a=s(80263),n=s(53239),r=s(5548),i=s(82457);function o(e){let{children:t,className:s,tag:n="div",style:r}=e;return(0,a.jsx)("".concat(n),{style:r,"data-sentry-element":"CustomTag","data-sentry-component":"Typography","data-sentry-source-file":"Typography.tsx",children:t})}o.Title=function(e){let{className:t,level:s=1,children:n,style:r}=e;return(0,a.jsx)("h".concat(s),{style:r,"data-sentry-element":"CustomTag","data-sentry-component":"Title","data-sentry-source-file":"Title.tsx",children:n})},o.Text=function(e){let{className:t,children:s,style:n,type:r,disabled:i,mark:o,code:l,keyboard:d,underline:c,strikethrough:u,strong:p,small:m}=e;return l?(0,a.jsx)("code",{style:n,children:s}):o?(0,a.jsx)("mark",{style:n,children:s}):d?(0,a.jsx)("kbd",{style:n,children:s}):p?(0,a.jsx)("strong",{style:n,children:s}):(0,a.jsx)("span",{style:n,"data-sentry-component":"Text","data-sentry-source-file":"Text.tsx",children:s})},o.Link=function(e){let{children:t,target:s="_blank",href:n,className:r,onClick:i,style:o}=e;return(0,a.jsx)("a",{onClick:i,href:n,target:s,rel:"noopener noreferrer",style:o,"data-sentry-component":"Link","data-sentry-source-file":"Link.tsx",children:t})};let l=(0,n.createContext)({type:"text"}),d=e=>{let{type:t}=e;return(0,a.jsx)(l.Provider,{value:{type:t},"data-sentry-element":"unknown","data-sentry-component":"MenuContextProvider","data-sentry-source-file":"MenuContext.tsx",children:e.children})},c=()=>{let e=(0,n.useContext)(l);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function u(e){let{children:t,className:s,ulClassName:n,style:r,type:i="text"}=e;return(0,a.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:s,style:r,"data-sentry-component":"Menu","data-sentry-source-file":"Menu.tsx",children:(0,a.jsx)(d,{type:i,"data-sentry-element":"MenuContextProvider","data-sentry-source-file":"Menu.tsx",children:(0,a.jsx)("ul",{className:n,children:t})})})}u.Item=function(e){let{children:t,icon:s,active:n,rounded:o,onClick:l,doNotCloseOverlay:d=!1,showActiveBar:u=!1,style:p}=e,m=(0,r.A)("menu"),{type:h}=c(),x=[m.item.base];x.push(m.item.variants[h].base),n?x.push(m.item.variants[h].active):x.push(m.item.variants[h].normal);let f=[m.item.content.base];n?f.push(m.item.content.active):f.push(m.item.content.normal);let v=[m.item.icon.base];return n?v.push(m.item.icon.active):v.push(m.item.icon.normal),(0,a.jsxs)("li",{role:"menuitem",className:(0,i.cn)("outline-none",x),style:p,onClick:l,"aria-current":n?"page":void 0,"data-sentry-component":"Item","data-sentry-source-file":"Menu.tsx",children:[s&&(0,a.jsx)("div",{className:"".concat(v.join(" ")," min-w-fit"),children:s}),(0,a.jsx)("span",{className:f.join(" "),children:t})]})},u.Group=function(e){let{children:t,icon:s,title:n}=e,i=(0,r.A)("menu"),{type:o}=c();return(0,a.jsxs)("div",{className:[i.group.base,i.group.variants[o]].join(" "),"data-sentry-component":"Group","data-sentry-source-file":"Menu.tsx",children:[s&&(0,a.jsx)("span",{className:i.group.icon,children:s}),(0,a.jsx)("span",{className:i.group.content,children:n}),t]})},u.Misc=function(e){let{children:t}=e;return(0,a.jsx)("div",{"data-sentry-component":"Misc","data-sentry-source-file":"Menu.tsx",children:(0,a.jsx)(o.Text,{"data-sentry-element":"unknown","data-sentry-source-file":"Menu.tsx",children:(0,a.jsx)("span",{children:t})})})};let p=u},53557:(e,t,s)=>{"use strict";s.d(t,{g:()=>n});var a=s(32211);function n(e){switch(e){case a.xq.AWS.id:return"ARM";case a.xq.FLY.id:return"x86 64-bit";default:return""}}},68084:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var a=s(80263),n=s(8758),r=s.n(n),i=s(51555),o=s(72470),l=s(37263);let d=e=>{let{name:t="",isActive:s,isExternal:n,icon:d,rightIcon:c,url:u="",target:p="_self",onClick:m,textClassName:h="",hoverText:x="",label:f}=e,v=(0,a.jsx)(i.Ay.Item,{icon:d,rounded:!0,active:s,onClick:m,children:(0,a.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,a.jsxs)("div",{title:x||("string"==typeof t?t:""),className:"flex items-center gap-2 truncate w-full "+h,children:[(0,a.jsxs)("span",{className:"truncate",children:[t," "]}),void 0!==f&&(0,a.jsx)(o.E,{variant:"warning",className:"py-0 px-1.5 capitalize",children:f})]}),c&&(0,a.jsx)("div",{children:c})]})});return u?n?(0,a.jsx)(l.$,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:d,children:(0,a.jsx)(r(),{href:u,target:"_blank",rel:"noreferrer",children:t})}):(0,a.jsx)(r(),{href:u,className:"block",target:p,children:v}):v}},80999:(e,t,s)=>{"use strict";s.d(t,{q:()=>d});var a=s(56947),n=s(53434),r=s.n(n),i=s(48678),o=s(36314);async function l(e,t){let{projectRef:s,attribute:a,startDate:n,endDate:r,interval:o="1h",databaseIdentifier:l}=e;if(!s)throw Error("Project ref is required");if(!a)throw Error("Attribute is required");if(!n)throw Error("Start date is required");if(!r)throw Error("End date is required");let{data:d,error:c}=await (0,i.Jt)("/platform/projects/{ref}/infra-monitoring",{params:{path:{ref:s},query:{attribute:a,startDate:n,endDate:r,interval:o,databaseIdentifier:l}},signal:t});return c&&(0,i.H4)(c),d}let d=function(e){let{projectRef:t,attribute:s,startDate:n,endDate:i,interval:d="1h",dateFormat:c="HH:mm DD MMM",databaseIdentifier:u,modifier:p}=e,{enabled:m=!0,...h}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.I)(o.P.infraMonitoring(t,{attribute:s,startDate:n,endDate:i,interval:d,databaseIdentifier:u}),e=>{let{signal:a}=e;return l({projectRef:t,attribute:s,startDate:n,endDate:i,interval:d,databaseIdentifier:u},a)},{enabled:m&&void 0!==t&&void 0!==s&&void 0!==n&&void 0!==i,select:e=>({...e,data:e.data.map(e=>({...e,[s]:void 0!==p?p(Number(e[s])):Number(e[s]),periodStartFormatted:r()(e.period_start).format(c)}))}),staleTime:6e4,...h})}},81448:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/settings/addons",function(){return s(45948)}])},97164:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(84497).A)("OctagonAlert",[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]])},98444:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var a=s(80263),n=s(53239),r=s(12185),i=s(5548),o=s(48492);let l=(0,n.createContext)({parentCallback:e=>{},type:"",name:"",activeId:"",parentSize:""});function d(e){var t;let{id:s=(t=46656*Math.random()|0,("00000"+(46656*Math.random()|0).toString(36)).slice(-3)+("00000"+t.toString(36)).slice(-3)),disabled:n,value:r,label:d,afterLabel:c,beforeLabel:u,description:p,name:m,checked:h,className:x,onChange:f,onBlur:v,hidden:j=!1,size:g="medium",align:y="vertical",optionalLabel:b,addOnBefore:N,children:w}=e,P=(0,i.A)("radio"),{handleBlur:_}=(0,o.x)();function k(e){_&&_(e),v&&v(e)}return(0,a.jsx)(l.Consumer,{"data-sentry-element":"unknown","data-sentry-component":"Radio","data-sentry-source-file":"Radio.tsx",children:e=>{let{parentCallback:t,type:i,name:o,activeId:l,parentSize:v}=e;g=v||g;let _=l===s||!!h||!1!==h&&void 0,C=[x,P.variants[i].container.base,"list"===i&&!j&&P.variants[i].container.size[g]];return C.push(P.variants[i].base),C.push(P.variants[i].size[g]),_?C.push(P.variants[i].active):C.push(P.variants[i].inactive),n&&C.push(P.disabled),"list"!==i&&(j=!0),(0,a.jsxs)("label",{htmlFor:s,className:C.join(" "),children:[(0,a.jsx)("input",{id:s,name:o||m,type:"radio",className:[P.base,P.size[g],j&&P.hidden,P.variants[i].radio_offset,""].join(" "),checked:_,disabled:n,value:r||s,onChange:e=>{t&&t(e),f&&f(e)},onBlur:k}),N,w||(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:[P.label.base,P.label[g],P.variants[i].container.align[y]].join(" "),children:[u&&(0,a.jsx)("div",{className:[P.label_before.base,P.label_before[g]].join(" "),children:u}),(0,a.jsx)("div",{children:d}),c&&(0,a.jsx)("div",{className:[P.label_after.base,P.label_after[g]].join(" "),children:c}),p&&(0,a.jsx)("div",{className:[P.description.base,P.description[g]].join(" "),children:p})]}),b&&(0,a.jsx)("div",{className:[P.optionalLabel.base,P.optionalLabel[g]].join(" "),children:b})]})]})}})}d.Group=function(e){let{id:t,layout:s,error:c,descriptionText:u,label:p,afterLabel:m,beforeLabel:h,labelOptional:x,children:f,className:v,type:j="list",options:g,value:y,name:b,onChange:N,size:w="medium",validation:P,groupClassName:_,labelsLayout:k="vertical"}=e,[C,A]=(0,n.useState)(""),S=(0,i.A)("radio"),{formContextOnChange:I,values:R,errors:T,touched:D,fieldLevelValidation:E}=(0,o.x)();return R&&!y&&(y=R[t||b]),c||(T&&!c&&(c=T[t||b]),c=D&&D[t||b]?c:void 0),(0,n.useEffect)(()=>{P&&E(t,P(y))},[]),(0,n.useEffect)(()=>{A(y)},[y]),(0,a.jsx)("fieldset",{name:b,className:v,"data-sentry-component":"RadioGroup","data-sentry-source-file":"Radio.tsx",children:(0,a.jsx)(r.H,{nonBoxInput:!0,label:p,afterLabel:m,beforeLabel:h,labelOptional:x,layout:s,id:t,error:c,descriptionText:u,size:w,labelLayout:k,"data-sentry-element":"FormLayout","data-sentry-source-file":"Radio.tsx",children:(0,a.jsx)("div",{className:_||S.variants[j].group,children:(0,a.jsx)(l.Provider,{value:{parentCallback:function(e){N&&N(e),I&&I(e),P&&E(t,P(e.target.value)),A(e.target.id)},type:j,name:b,activeId:C,parentSize:w},"data-sentry-element":"unknown","data-sentry-source-file":"Radio.tsx",children:g?g.map(e=>(0,a.jsx)(d,{id:e.id,label:e.label,beforeLabel:e.beforeLabel,afterLabel:e.afterLabel,value:e.value,description:e.description})):f})})})})};let c=d}},e=>{var t=t=>e(e.s=t);e.O(0,[89,8345,2491,3730,5982,6110,1185,5599,2041,1018,2409,4297,236,4515,1674,4942,2981,9480,4711,6137,4560,7795,3895,4109,2667,9846,2156,5500,4649,7104,3133,2865,6593,636,8792],()=>t(81448)),_N_E=e.O()}]);